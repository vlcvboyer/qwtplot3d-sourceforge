<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
  <title>QwtPlot3D User's Guide: QwtPlot3D User's Guide</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.3.2 -->
<h1>QwtPlot3D &nbsp;Manual<br>
</h1>
<ol type="1" style="margin-left: 40px;">
  <li><a href="manual.html#installation">Installation</a></li>
  <li><a href="manual.html#conventions">Using Conventions</a></li>
  <li><a href="manual.html#simple">Simple Plot</a></li>
  <li><a href="manual.html#mouse">Mouse Handling</a><br>
  </li>
  <li><a href="manual.html#coords">Coordinate Systems and Axes</a><br>
    <ul>
      <li>Autoscaling<br>
      </li>
    </ul>
  </li>
  <li><a href="manual.html#styles">Plotting Styles</a></li>
  <li><a href="manual.html#normals">Normal Vectors</a></li>
  <li><a href="manual.html#colors">Colors</a></li>
  <li><a href="manual.html#fonts">Fonts etc.</a></li>
  <li><a href="manual.html#meshs">Mesh Types</a><br>
  </li>
  <li><a href="manual.html#datainput">Data Input</a></li>
</ol>
<div style="margin-left: 40px;"> </div>
<h2 style="margin-left: 40px;"><br>
</h2>
<h4 style="margin-left: 40px;"><a name="installation"></a> Installation</h4>
<div style="margin-left: 40px;">With <span
 style="font-family: monospace;">qwtplot3d.pro</span> you can create a<br>
<ul>
  <li>VC6  DLL project (Windows)&nbsp;</li>
  <li>Shared library for POSIX systems.&nbsp;</li>
</ul>
<p>Adjust the target path and perhaps the library directories. The same
is true for the examples <span style="font-family: monospace;">.pro</span>
files. &nbsp;<br>
</p>
<p> QwtPlot3D runs with Qt version 3.0.5 for Windows and with version
3.1.? on Debian Linux. Older Qt versions are likely working. If I'm
wrong&nbsp; please don't hesitate to contact me. I'll try to provide a
code fix in this case.</p>
<p> The library requires OpenGL &gt;= 1.1 or equivalent and a true color
mode with 24 or 32 bits color depth.</p>
<p>The API Documentation has been created using <a
 href="http://www.doxygen.org" target="_blank">doxygen</a>. If you
prefer to generate your own version, you will find the configuration in <code>./doc/Doxyfile.doxygen.</code>
Also, a developer version &nbsp;also has been placed under&nbsp; <code>./doc/Developer.doxygen.</code><b
 style="font-family: monospace;"><br>
</b></p>
<p><br>
<span style="font-style: italic;">Remark:</span><br>
</p>
<p>You can test almost all abilities of QwtPlot3D&nbsp; from within the <span
 style="font-family: monospace;">mesh2 </span>example,&nbsp; including:<br>
</p>
<ol>
  <li>Colors, fonts, normal vectors, mouse handling etc.</li>
  <li>Grid and FEM data reading from files (in <code>examples/data/*</code>)</li>
  <li>Plotting styles and resolution change on the fly<br>
  </li>
</ol>
<p>So, it would be a good idea to get this example project running ...<br>
</p>
</div>
<p> </p>
<div style="margin-left: 40px;">
<ul>
</ul>
</div>
<h4 style="margin-left: 40px;"><br>
<a name="conventions"></a> Using conventions</h4>
<div style="margin-left: 40px;">Calculations are performed as accurate
as <span style="font-family: monospace;">DBL_EPSILON</span> (see your
float.h for the precise value). This is mainly due to the autoscaler.
See e.g. <a
 href="http://groups.google.com/groups?hl=en&amp;lr=&amp;ie=UTF-8&amp;oe=UTF-8&amp;threadm=6odqk1%24p23%241%40nnrp1.dejanews.com&amp;rnum=1&amp;prev=/groups%3Fq%3DFLT_EPSILON%26hl%3Den%26lr%3D%26ie%3DUTF-8%26oe%3DUTF-8%26selm%3D6odqk1%2524p23%25241%2540nnrp1.dejanews.com%26rnum%3D1"
 target="_blank">here</a> for a topic related discussion.<br>
<!-- Generated by Doxygen 1.3.2 -->
<p> </p>
<br>
<h4><span style="text-decoration: underline;"><a name="simple"></a></span>First
Plot</h4>
<small> </small><small> </small><small> </small><small> </small><small> </small> <small> </small>
<table cellpadding="0" cellspacing="0" border="0" frame="box"
 style="text-align: left; width: 90%; margin-right: auto; background-color: rgb(204, 204, 204);"
 rules="none">
  <tbody>
    <tr>
      <td style="vertical-align: top;"><small> </small>
      <pre style="background-color: rgb(204, 204, 204);"><code><font
 color="#000000"><small><font color="#008000">  //-----------------------------------------------------------------</font><br>  <font
 color="#008000">//              simpleplot.cpp</font><br>  <font
 color="#008000">//</font><br>  <font color="#008000">//      A simple example which shows how to use SurfacePlot</font><br>  <font
 color="#008000">//-----------------------------------------------------------------<br><br></font></small></font></code><code><font
 color="#000000"><small><font color="#0000ff"><b>&nbsp; </b></font></small></font></code><code><font
 color="#000000"><small><font color="#0000ff"><b>#include &lt;math.h&gt;</b></font><br></small></font></code><code><font
 color="#000000"><small><font color="#0000ff"><b>  #include &lt;qapplication.h&gt;</b></font><br><font
 color="#0000ff"><b>  #include &lt;qwt3d_surfaceplot.h&gt;</b></font><br><font
 color="#0000ff"><b>  #include &lt;</b></font></small></font></code><code><font
 color="#000000"><small><font color="#0000ff"><b>qwt3d_</b></font></small></font></code><code><font
 color="#000000"><small><font color="#0000ff"><b>function.h&gt;</b></font><br><font
 color="#0000ff"><b>  </b></font><font color="#008000"></font><br><br>  <font
 color="#0000ff">using namespace</font> Qwt3D;<br><br>  <font
 color="#0000ff">class</font> Rosenbrock : <font color="#0000ff">public</font> Function<br>  {<br>  <font
 color="#0000ff">public</font>:<br><br>    Rosenbrock(SurfacePlot* pw)<br>    :Function(pw)<br>    {<br>    }<br><br>    <font
 color="#0000ff">double operator</font>()(<font color="#0000ff">double</font> x, <font
 color="#0000ff">double</font> y)<br>    {<br>      <font
 color="#0000ff">return</font> log((1-x)*(1-x) + 100 * (y - x*x)*(y - x*x)) / 8;<br>    }<br>  };<br><br><br>  <font
 color="#0000ff">class</font> Plot : <font color="#0000ff">public</font> SurfacePlot<br>  {<br>  <font
 color="#0000ff">public</font>:<br>      Plot();<br>  };<br><br><br>  Plot::Plot()<br>  {<br>    setTitle("A Simple SurfacePlot Demonstration");<br>    <br>    Rosenbrock rosenbrock(<font
 color="#0000ff">this</font>);<br><br>    rosenbrock.setMesh(41,31);<br>    rosenbrock.setDomain(-1.73,1.5,-1.5,1.5);<br>    rosenbrock.setMinZ(-10);<br><br>    rosenbrock.create();<br><br>    setRotation(30,0,15);<br>    setScale(1,1,1);<br>    setShift(0.15,0,0);<br>    setZoom(0.9);<br><br>    <font
 color="#0000ff">for</font> (<font color="#0000ff">unsigned</font> i=0; i!=coordinates()-&gt;axes.size(); ++i)<br>    {<br>      coordinates()-&gt;axes[i].setMajors(7);<br>      coordinates()-&gt;axes[i].setMinors(4);<br>    }<br><br><br>    coordinates()-&gt;axes[X1].setLabelString("x-axis");<br>    coordinates()-&gt;axes[Y1].setLabelString("y-axis");<br>    coordinates()-&gt;axes[Z1].setLabelString(QChar (0x38f)); <font
 color="#008000">// Omega - see http://www.unicode.org/charts/</font><br><br><br>    setCoordinateStyle(BOX);<br><br>    updateData();<br>    updateGL();<br>  }<br><br>  <font
 color="#0000ff">int</font> main(<font color="#0000ff">int</font> argc, <font
 color="#0000ff">char</font> **argv)<br>  {<br>      QApplication a(argc, argv);<br>      Plot plot;<br>      a.setMainWidget(&amp;plot);<br>      plot.resize(800,600);<br>      plot.show();<br>      <font
 color="#0000ff">return</font> a.exec();<br>  }</small></font></code></pre>
      <small> </small></td>
    </tr>
  </tbody>
</table>
<br>
<br>
The code above shows the almost most simple application of a
SurfacePlot. Data are provided by a mathematical function object
(Rosenbrock). &nbsp;You can derive from this kind of classes by
including <code>qwt3d_function.h. </code>A base for the other player -
the widget itself - resides inside <code>qwt3d_surfaceplot.h.</code><br>
The derived class makes only small adaptions to the standard behaviour,
mainly providing scales and label for the axes and a boxed coordinate
system . The axes themselves are autoscaled.<br>
<br>
<h4><span style="text-decoration: underline;"><a name="mouse"></a></span>Mouse
Handling</h4>
The base class Plot3D implements a standard mouse behaviour. You can
perform shifts, turns, scales and zooms with your left mouse button and
combinations of &nbsp;<span style="font-family: monospace;">Ctrl, Shift</span>
and <span style="font-family: monospace;">Alt. </span>Some actions
have equivalents delegated to your wheel. You can also turn on or off
&nbsp;mouse handling entirely by using Plot3D::enableMouse () and
Plot3D::disableMouse (). The default behaviour can be changed with
Plot3D::assignMouse().<br>
<br>
<h4><span style="text-decoration: underline;"><a name="coords"></a></span>Coordinate
Systems and Axes</h4>
<div style="text-align: left; margin-left: 120px;"><img
 src="../../images/axes.png" title="" alt="Axes"
 style="width: 641px; height: 333px;"><br>
</div>
<h4><span style="text-decoration: underline;"></span></h4>
<h4><span style="text-decoration: underline;"></span></h4>
<h4><span style="text-decoration: underline;"><a name="styles"></a></span>Plotting
Styles</h4>
<h4 style="text-align: left;"><br>
</h4>
<h4><span style="text-decoration: underline;"><a name="normals"></a></span>Normal
Vectors</h4>
<h4><br>
</h4>
<h4><span style="text-decoration: underline;"><a name="colors"></a></span>Colors</h4>
<h4><br>
</h4>
<h4><span style="text-decoration: underline;"><a name="fonts"></a></span>Fonts
etc.</h4>
<h4><br>
</h4>
<h4><a name="meshs"></a>Mesh Types</h4>
<h4><br>
</h4>
<h4><a name="datainput"></a>Data Input</h4>
QwtPlot3D supports one general and some special forms of native data
input:
<p> <br>
<em>Generic:</em></p>
<p> </p>
A general approach has been provided in form of the 2 member <br>
<br>
bool <a class="el" href="../doxygen/classQwt3D_1_1SurfacePlot.html#a4">SurfacePlot::createDataRepresentation</a>(double**
data, unsigned columns, unsigned rows, double minx, double maxx, double
miny, double maxy).<br>
bool <a class="el" href="../doxygen/classQwt3D_1_1SurfacePlot.html#a4">SurfacePlot::createDataRepresentation</a>(TripleField
const&amp; data, CellField const&amp; poly, MESHTYPE mtype = POLYGON)<br>
<p> The first one deals with grid data, the second variant provides
support for more free formed meshs, divided in a node (the TripleField
argument) and a&nbsp; polygon (the CellField) &nbsp;part. This kind of
data is common for FEM applications.</p>
<br>
<h4 style="font-weight: normal;"><em>Grid data files:</em></h4>
<p><small> </small></p>
<pre><small>   jk:11051895-17021986                       <span
 class="comment">//  magic string</span><br>   MESH                                       <span
 class="comment">//  MESH file (other keywords in future versions)</span><br>   327 466                                    <span
 class="comment">//  x,y grid</span><br>   557726 567506                              <span
 class="comment">//  domain boundaries (x values)</span><br>   5.10821e+006 5.12216e+006                  <span
 class="comment">//  domain boundaries (y values)</span><br>   682 682 682 682 912 924 928 928 932 ... <br>   ... element[327*466-1]                     <span
 class="comment">//  the single z values </span><br></small></pre>
<p><small> <br>
<br>
<big><em>Coding example:</em><br>
<br>
Reading of the aforementioned file type </big> <br>
<br>
</small></p>
<p><small> </small></p>
<table cellpadding="0" cellspacing="0" border="0"
 style="text-align: left; background-color: rgb(204, 204, 204); width: 90%;">
  <tbody>
    <tr>
      <td style="vertical-align: top;">
      <pre><small><code><font color="#000000"><font color="#0000ff">  <br>  bool</font> NativeReader::read(<font
 color="#0000ff">double</font> minz, <font color="#0000ff">double</font> maxz)<br>  {<br><br>    FILE* file;<br>    <font
 color="#0000ff">unsigned int</font> xmesh, ymesh;<br>    <font
 color="#0000ff">double</font> minx, maxx, miny, maxy;<br><br>    <font
 color="#0000ff">if</font> ( !collectInfo(file, xmesh, ymesh, minx, maxx, miny, maxy) )<br>      <font
 color="#0000ff">return false</font>;<br><br>    <font color="#008000">/* allocate some space for the mesh */</font><br>    <font
 color="#0000ff">double</font>** data = allocateData(xmesh, ymesh);<br><br>    <font
 color="#0000ff">for</font> (<font color="#0000ff">unsigned int</font> j = 0; j &lt; ymesh; j++)<br>    {<br>      <font
 color="#0000ff">for</font> (<font color="#0000ff">unsigned int</font> i = 0; i &lt; xmesh; i++)<br>      {<br>        <font
 color="#0000ff">if</font> (fscanf(file, "%lf", &amp;data[i][j]) != 1)<br>        {<br>          fprintf(stderr, "NativeReader::read: error in data file \"%s\"\n", fileName_.latin1());<br>          <font
 color="#0000ff">return false</font>;<br>        }<br><br>        <font
 color="#0000ff">if</font> (data[i][j] &gt; maxz)<br>          data[i][j] = maxz;<br>        <font
 color="#0000ff">else if</font> (data[i][j] &lt; minz)<br>          data[i][j] = minz;<br>      }<br>    }<br><br>    <font
 color="#008000">/* close the file */</font><br>    fclose(file);<br><br>    plotwidget_-&gt;createDataRepresentation(data, xmesh, ymesh, minx, maxx, miny, maxy);<br>    deleteData(data,xmesh);<br><br>    <font
 color="#0000ff">return true</font>;<br>  }<br><br></font></code></small></pre>
      </td>
    </tr>
  </tbody>
</table>
<p> See NativeReader for additional information. Write your own reader
classes in this spirit. It should always be enough to provide
appropriate data for SurfacePlot::createDataRepresentation.</p>
<p><small> <br>
</small></p>
<h4 style="font-weight: normal; font-style: italic;">Mathematical
functions:</h4>
<p> </p>
Setup a function object. To do so, inherit from the Function class and
write your own version of Function::operator()(double x, double y) Set
the domain and perhaps limitations for the range and call
Function::create(). Thats all.See also Function and the implementation
of concrete functions in 'examples'<br>
</div>
</body>
</html>
